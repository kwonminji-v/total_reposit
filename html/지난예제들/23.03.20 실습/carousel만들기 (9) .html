<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="carousel.css">
    <title>Document</title>
</head>
<style>
    li {
        list-style-type: none;
        display: inline;
    }

    li img {
        width: 600px;
    }
</style>

<body>
    <p>좌우 화살표를 눌러 보세요</p>
    <div id="container">
        <div class="arrow" id="left">&lang;</div>
        <div class="arrow" id="right">&rang;</div>
    </div>

    <script>
        const container = document.querySelector("#container");
        const pics = ["C:/media/elsa.png", "c:/media/Desert.png", "c:/media/girl.png", "c:/media/boy.png", "c:/media/pf.png"];

        // 1 첫 번째 이미지 기본으로 표시
        container.style.backgroundImage = `url(${pics[i]})`;
        const arrows = document.querySelectorAll(".arrow"); // 화살표
        let i = 0; //배열 인덱스를 0으로 초기화

        pics.forEach(arrow => {
            arrow.addEventListener("click", (e) => {
                if (e.target.id === "left") { //이전 버튼 클릭
                    i--;  // 이전 이미지로 이동
                    if (i < 0) {  // 첫 번째 이미지
                        i = pics.length - 1; // 맨 마지막 이미지로 이동
                    }
                }
                else if (e.target.id == "right") {  //오른쪽 화살표 클릭
                    i++; // 다음 이미지 표시
                    if (i >= pics.length) {  //마지막 이미지
                        i = 0; //첫번째로 이동}
                    }
                }
                container.style.backgroundImage = `url(${pics[i]})`;  //현재 이미지 표시
            });
        });

            arrows.forEach((arrow) => {
                arrow.addEventListener("click", (e) => {
                    if (e.target.id === "left") {
                        //이전 이미지 표시
                        i=i === 0 ? pics.length -1 : i-1;
                    } else if (e.target.id == "right") {
                        //다음 이미지 표시
                        i = (i + 1) % pics.length;
                        console.log("새로운 인덱스 값 : ", i)  //콘솔에 새로운 인덱스 값 출력
                    }
                    container.style.backgroundImage = `url(images/${pics[i]})`;
                });
            });

    </script>
</body>
<!--
    if (e.target.id === "left") : 클릭된 요소의 ID가 "left" 인지 확인합니다.
    만약 "left" 화살표를 클릭한 경우, 이전 이미지를 표시합니다.

    i = i === 0 ? pics.length -1 : i -1; : 현재 이미지 인덱스 i가 0인지 확인한다
    만약 i가 0이면, 이미지 배열의 마지막 인덱스로 이동한다. (pics.legnth - 1).
    그렇지 않으면 i를 1 감소 시켜 이전 이미지로 이동한다 (i - 1).
    else if (e.target.id == "right") : 클릭된 요소의 ID가 "right" 인지 확인한다ㅏ.
    만약 "right" 화살표를 클릭한 경우, 다음 이미지를 표시한다.

    i = (i + 1) % pics.length; : 이미지 인덱스 i를 1 증가시킨 다음,
    이미지 배열의 길이 (pics.length)로 나눈 나머지 값을 계산한다.
    이렇게 하면 이미지 배열의 끝에 도달하면 인덱스가 다시 0으로 되돌아가 배열의 첫 번째 이미지로 돌아간다

    두 번째 이미지에 있다면, i의 초깃값은 1이다. 오른쪽 버튼을 눌렀을 때,
    (인덱스는 0부터 시작하기 때문에 첫 번째 이미지의 인덱스는 0, 두 번째 이미지의 인덱스는 1이다.)
    오른쪽 화살표를 누르면 i의 값이 1 증가
    (i + 1) % pics.length   여기서 i + 1은 1+1 이므로 2이다.
    pics.length는 이미지 배열의 길이로 5이다.
    따라서 (2) % 5는 2가 된다 나머지를 계산했기 때문에
    결과적으로, 오른쪽 화살표를 누른 후 i의 값은 2가 되고, 
    이미지 배열에서 세 번째 이미지의 인덱스를 나타낸다 ( 0, 1, 2) 이기 때문에
 -->














</html>
<!-- 
화살표 요소를 가져와서 arrows로 저장한 후,
click 이벤트가 발생하면 왼쪽 화살표인지, 오른쪽 화살표인지 확인한다.
event.target을 사용해서 id값이 left인지, right 인지 확인한다
left라면 이전 이미지로, right라면 다음 이미지로 이동
첫 번째 이미지에서 left를 클릭하면 마지막 이미지로 넘어가고, 
마지막 이미지에서 right를 클릭하면 첫번째 이미지로 이동
 -->